<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <title>Painel Admin - HM Salgados</title>
    <script src="https://cdn.tailwindcss.com"></script> 
</head>
<body class="bg-gray-100 p-6">

<h2 class="text-2xl font-bold mb-4">Painel de Administração</h2>

<form id="product-form" class="bg-white p-6 rounded shadow-md max-w-lg mx-auto mb-6">
    <div class="mb-4">
        <label class="block text-sm font-medium mb-1">Nome do Produto</label>
        <input type="text" id="name" required class="w-full border px-3 py-2 rounded" />
    </div>
    <div class="mb-4">
        <label class="block text-sm font-medium mb-1">Preço (ex: 1.50)</label>
        <input type="number" step="0.01" id="price" required class="w-full border px-3 py-2 rounded" />
    </div>
    <div class="mb-4">
        <label class="block text-sm font-medium mb-1">Categoria</label>
        <select id="category" required class="w-full border px-3 py-2 rounded">
            <option value="salgadinhos fritos">salgadinhos fritos</option>
            <option value="salgadinhos assados">salgadinhos assados</option>
            <option value="combos">Combos</option>
            <option value="Bebidas">Bebidas</option>
            <option value="salgadinhos congelado">salgadinhos congelado</option>
        </select>
    </div>
    <div class="mb-4">
        <label class="block text-sm font-medium mb-1">Descrição</label>
        <textarea id="description" required class="w-full border px-3 py-2 rounded"></textarea>
    </div>
    <div class="mb-4">
        <label class="block text-sm font-medium mb-1">URL da Imagem</label>
        <input type="text" id="image" required class="w-full border px-3 py-2 rounded" />
    </div>
    <button type="submit" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 w-full">Adicionar Produto</button>
</form>

<div id="products-list" class="mt-8 bg-white p-6 rounded shadow-md max-w-4xl mx-auto">
    <h3 class="text-xl font-semibold mb-4">Produtos Cadastrados</h3>
    <ul id="product-items" class="space-y-2"></ul>
</div>

<script>
let products = [];

// Carrega os produtos do localStorage
window.onload = () => {
    const saved = localStorage.getItem('products');
    if (saved) {
        products = JSON.parse(saved);
    } else {
        // Se não houver no localStorage, usa os produtos do index.html
        products = [
            {id: 2,name: "Bolinha de Queijo",price: 1.35,category: "salgadinhos fritos",description: "",image: "https://dqcd2ry9j125c.cloudfront.net/receita/646f4d9ac14c83fcf40fc5dd/fotos/45e97254-4e1a-4385-a307-ca227ffc03af-lg.jpg"}, 
            {id: 5,name: "Risole de Carne",price: 1.35,category: "salgadinhos fritos",description: "Risole crocante recheado com carne moída temperada.",image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS_FRNLYsOCjlILQTK3bHZhA-kSKYWqpgNnyw&s"},
            {id: 6,name: "Coxinha de Frango",price: 1.35,category: "salgadinhos fritos",description: "Coxinha tradicional, massa macia recheada de frango desfiado.",image: "https://blog.vapza.com.br/wp-content/uploads/2020/10/coxinha-de-frango.jpg"},
            {id: 36,name: "Mini pizza de Chocolate congelado",price: 27.00,category: "salgadinhos congelado",description: "20 unidades",image: "https://thumb-cdn.soluall.net/prod/shp_products/sp1280fw/84ce412c-9280-49f4-aeba-93d5185516f5/a217b4c1-05ef-46b6-8ea9-e49a8139cab6.jpeg"},
            {id: 37,name: "Enroladinho de Salsicha e Queijo congelado",price: 27.00,category: "salgadinhos congelado",description: "20 unidades",image: "https://thumb-cdn.soluall.net/prod/shp_products/sp1280fw/84ce412c-9280-49f4-aeba-93d5185516f5/a217b4c1-05ef-46b6-8ea9-e49a8139cab6.jpeg"}
            // Adicione mais conforme necessário
        ];
    }
    renderProducts();
};

// Adiciona produto
document.getElementById("product-form").addEventListener("submit", function (e) {
    e.preventDefault();

    const product = {
        id: Date.now(),
        name: document.getElementById("name").value,
        price: parseFloat(document.getElementById("price").value),
        category: document.getElementById("category").value,
        description: document.getElementById("description").value,
        image: document.getElementById("image").value
    };

    products.push(product);
    localStorage.setItem('products', JSON.stringify(products));

    this.reset();
    renderProducts();
});

// Renderiza a lista de produtos
function renderProducts() {
    const list = document.getElementById("product-items");
    list.innerHTML = '';
    products.forEach((p, index) => {
        list.innerHTML += `
            <li class="border p-3 rounded flex justify-between items-center">
                <span>${p.name} - R$ ${p.price.toFixed(2)}</span>
                <button onclick="deleteProduct(${index})" class="text-red-500">Excluir</button>
            </li>`;
    });
}

// Remove produto
function deleteProduct(index) {
    if (confirm("Tem certeza que deseja excluir este produto?")) {
        products.splice(index, 1);
        localStorage.setItem('products', JSON.stringify(products));
        renderProducts();
    }
}
</script>

</body>
</html>
